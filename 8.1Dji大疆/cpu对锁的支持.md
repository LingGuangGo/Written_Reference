### 无锁可以提高整个程序的性能，但是CPU需要对此提供支持，请以x86/ARM为例简述。

1. 无锁编程技术方法包括?
   - 原子操作（atomic operations）, 内存栅栏（memory barriers;
   - 内存顺序冲突（memory order）， 指令序列一致性（sequential consistency）和顺ABA现象
2. 最基础和最重要的操作是原子操作?
   - 定义: 原子操作在**执行完毕之前**不会被任何其它任务或事件**中断**的一系列操作。
     - 非阻塞编程最核心基本的部分
   - 如果不存在原子操作: 操作会因为中断异常等各种原因引起**数据状态的不一致**从而影响到程序的正确
3. 原子操作的实现机制: 需要CPU的支持
   - 在硬件层面上: **CPU处理器**会默认保证基本的内存操作的原子性;
   - 复杂的内存操作: 需要**CPU指令集**中设计的原子操作指令;
4. 无锁编程中经常用到的原子操作?
   - 全部基于硬件原语实现锁, 不适用线程库
   - 常用的原子操作又是**比较交换CAS**COMPARE AND SWAP，几乎所有的CPU指令集都支持CAS的原子操作;
   - **X86平台**下中的是 CMPXCHG（Compare Are Exchange）
5. CAS操作具体的实现原理主要是两种方式：总线锁定和缓存锁定
6. 解决ABA的问题的一种方法是?
   - 一次用CAS检查双倍长度的值，前半部是指针，后半部分是一个计数器；
   - 或者对CAS的数值加上版本号。


