## linux中系统调用过程？

### linux中系统调用过程

1. 系统调用的作用？
   1. **控制硬件：**系统调用往往作为硬件资源和用户空间的抽象接口，比如读写文件时用到的write/read调用。
   2. **设置系统状态或读取内核数据：**因为系统调用是用户空间和内核的唯一通讯手段，所以用户设置系统状态，比如开/关某项内核服务（设置某个内核变量），或读取内核数据都必须通过系统调用。比如getpgid、getpriority、setpriority、sethostname
   3. **进程管理：**用来保证系统中进程能以多任务在虚拟内存环境下得以运行。比如 fork、clone、execve、exit等
2. 系统调用实现过程？
   + 先要能从用户空间切换到内核空间，这个切换在IA-32系统上是用汇编指令**int $0x80**来引发软件中断实现的。
   + 进入**内核空间**后，系统调用中枢处理代码（所有的系统调用都由一处中枢代码处理）根据传递的参数（参数是有寄存器传递的包括唯一的系统调用号）和一个静态表分别执行不同的函数。
   + 例如read系统调用，0x80 中断处理程序接管执行后，先检查其系统调用号，然后根据系统调用号查找系统调用表，并从系统调用表中得到处理 read 系统调用的内核函数 sys_read ，最后传递参数并运行 sys_read 函数。
   + 至此，内核真正开始处理** read 系统调用**（sys_read 是 read 系统调用的内核入口）
3. [如:应用程序中read()在linux中执行过程即从用户空间到内核空间？](https://my.oschina.net/haomcu/blog/468656)